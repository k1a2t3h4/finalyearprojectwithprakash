<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .nav-link.active {
            font-weight: bold;
        }
        .content-section {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <!-- Header with User Profile Dropdown and Navigation -->
    <header class="bg-dark text-white py-3">
        <div class="container d-flex justify-content-between align-items-center">
            <!-- Profile Name and Dropdown -->
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                    <%= user.username %>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="#">Email: <%= user.email %></a></li>
                    <li><a class="dropdown-item" href="#">Category: <%= user.category %></a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="/logout">Logout</a></li>
                </ul>
            </div>

            <!-- Centered Navigation Links -->
            <nav>
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" id="dashboard-link">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="build-link">Build Your Page</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Dynamic Content Section -->
    <div class="container content-section" id="content-section">
        <h2>Welcome to your Dashboard, <%= user.username %></h2>
        <p>This is the dashboard where you can manage your activities.</p>
    </div>

    <!-- Dashboard Content -->
    <div id="dashboard-content" class="d-none">
        <h2>Dashboard</h2>
        <p>Here is your dashboard content. You can manage your data and settings here.</p>
    </div>

    <!-- Build Your Page Content -->
    <div id="build-content" class="d-none">
            <div id="edit-child-form-popup" class="edit-child-form-popup" style="display: none;">
                <div id="changechildorder">
                    <label for="newOrderInput">New Order:</label>
                    <input type="number" id="newOrderInput" name="newOrderInput" placeholder="Enter new order" />
                </div>
                <button id="updatechildorder" type="button">UPDATECHILDORDER</button>
                <div id="edit-child-form"></div>
                <button id="updateChildDetailsBtn" type="button">Update</button>
                <button id="closeChildEditFormBtn" type="button">Cancel</button>
            </div>
            
            <div id="delete-child-confirm-popup" class="delete-confirm-popup" style="display: none;">
                <div id="delete-child-message">
                    <p>Are you sure you want to delete this child component?</p>
                </div>
                
                <button id="deleteChildConfirmBtn" type="button">Delete Child</button>
                <button id="closeChildDeletePopupBtn" type="button">Cancel</button>
            </div>
            
            <div id="delete-confirm-popup" class="delete-confirm-popup" style="display: none;">
                <div id="delete-message">
                    <p>Are you sure you want to delete this component?</p>
                </div>
                
        
                <button id="deleteConfirmBtn" type="button">Delete</button>
                <button id="closeDeletePopupBtn" type="button">Cancel</button>
            </div>
            
            <div id="child-componentgallery-and-form-popup" class="child-componentgallery-and-form-popup" style="display: none;">
                <div id="child-components-list"></div>
            
                <div id="child-component-form"></div>
            
                <button id="savechildBtn" type="button">Save</button>
                <button id="closechildFormBtn" type="button">Close</button>
            </div>
            <div id="edit-form-popup" class="edit-form-popup" style="display: none;">
                <div id="order-edit">
                    <label for="newParentOrderInput">New Order:</label>
                    <input type="number" id="newParentOrderInput" name="newParentOrderInput" placeholder="Enter new order" />
                </div>
                <button id="updateParentOrderBtn" type="button">UPDATEPARENTORDER</button>
                <div id="edit-form"></div>
                <button id="updateParentDetailsBtn" type="button">Update</button>
                <button id="closeeditFormBtn" type="button">Cancel</button>
            </div>
            
            <div id="choosedcomponents" style="display: none;"></div>
            <div id="overlay" style="display: none;">
                <div id="component-gallery"></div>
                <div id="form-popup" class="form-popup" style="display: none;">
                    <form id="dynamic-form"></form>
                    <button id="saveBtn" type="button">Save</button>
                    <button id="closeFormBtn" type="button">Close</button>
                </div>
            </div>
            
            
            
            <button id="addComponentBtn" class="add-component-btn">+</button>
            
            
            <script src="addparentcomponent.js"></script>
            <script src="addchildcomponent.js"></script>
            <script src="showparentcomponent.js"></script>
            <script src="showchildcomponent.js"></script>
            <script src="updateparentcomponent copy.js"></script>
            <script src="updatechildcomponent.js"></script>
            <script src="deleteparentcomponent.js"></script>
            <script src="deletechildcomponent.js"></script>
            <script src="fetchchildcomponent.js"></script>
            <script src="userscript.js"></script>
    </div>
    <script>
document.getElementById('dashboard-link').addEventListener('click', function(event) {
    event.preventDefault();
    setActiveTab('dashboard');
});

document.getElementById('build-link').addEventListener('click', function(event) {
    event.preventDefault();
    setActiveTab('build');
});

function setActiveTab(tab) {
    // Remove active class from all nav links
    document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));

    // Hide all content sections
    document.getElementById('dashboard-content').classList.add('d-none');
    document.getElementById('build-content').classList.add('d-none');

    // Show the selected tab's content
    if (tab === 'dashboard') {
        document.getElementById('dashboard-link').classList.add('active');
        document.getElementById('dashboard-content').classList.remove('d-none');
    } else if (tab === 'build') {
        document.getElementById('build-link').classList.add('active');
        document.getElementById('build-content').classList.remove('d-none');
    }
}

setActiveTab('build');

    </script>
</body>
</html>
